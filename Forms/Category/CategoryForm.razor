@using System.ComponentModel.DataAnnotations
@using Gestor.Web.DTOs.Request.Category
@inject NavigationManager _navigationManager

<EditForm Model="@Category" OnValidSubmit="OnSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label class="form-label">Nombre</label>
        <InputText class="form-control" @bind-Value="Category.Nombre" />
    </div>   

    <div class="mb-3">
        <label class="form-label">Descripción</label>
        <InputTextArea class="form-control" @bind-Value="Category.Descripcion" />
    </div>


    <button type="submit" class="btn btn-primary">
        <i class="bi bi-save" data-bs-toggle="tooltip" title="Guardar"></i>
    </button>
    <button class="btn btn-secondary" @onclick="Volver">
        <i class="bi bi-arrow-left-circle" data-bs-toggle="tooltip" title="Volver"></i>
    </button>
</EditForm>

@code {
    [Parameter]
    public AddCategoryRequest Category { get; set; } = default!;

    [Parameter]
    public EventCallback OnValidSubmit { get; set; }

    private async Task OnSubmit()
    {
        await OnValidSubmit.InvokeAsync();
    }
    private void Volver()
    {
        _navigationManager.NavigateTo("/categorias");
    }
}
